{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,useParams}from'react-router-dom';import{SearchForm}from'./components/SearchForm/SearchForm';import{ResultsDisplay}from'./components/ResultsDisplay/ResultsDisplay';import{searchProviders}from'./services/api';// Component for shared results\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SharedResults=()=>{const{shareId}=useParams();const[results,setResults]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{if(shareId){const savedResults=localStorage.getItem(\"search_\".concat(shareId));if(savedResults){try{setResults(JSON.parse(savedResults));}catch(error){console.error('Error parsing shared results:',error);}}setLoading(false);}},[shareId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 text-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Loading shared results...\"})})});}if(!results){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-red-600 mb-4\",children:\"Shared results not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"This shared link may have expired or is invalid.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Start New Search\"})]})});}const handleShare=newShareId=>{const shareUrl=\"\".concat(window.location.origin,\"/share/\").concat(newShareId);navigator.clipboard.writeText(shareUrl);alert(\"New share link copied: \".concat(shareUrl));};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-blue-600 mb-2\",children:\"Shared Search Results\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"Search: \",results.query.street,\" \",results.query.houseNumber,\", \",results.query.city,\" \",results.query.postalCode]}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-blue-600 hover:underline\",children:\"\\u2190 Start New Search\"})]}),/*#__PURE__*/_jsx(ResultsDisplay,{results:results,onShare:handleShare})]})});};// Main search component\nconst MainApp=()=>{const[results,setResults]=useState(null);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const handleSearch=async query=>{setIsLoading(true);setError(null);try{const result=await searchProviders(query);setResults(result);}catch(err){setError('Unable to search providers at the moment. Please try again.');}finally{setIsLoading(false);}};const handleShare=shareId=>{const shareUrl=\"\".concat(window.location.origin,\"/share/\").concat(shareId);navigator.clipboard.writeText(shareUrl);alert(\"Share link copied to clipboard!\\n\\n\".concat(shareUrl,\"\\n\\nSend this link to others to share your search results.\"));};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsx(SearchForm,{onSearch:handleSearch,isLoading:isLoading}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded\",children:error}),results&&/*#__PURE__*/_jsx(ResultsDisplay,{results:results,onShare:handleShare})]})});};// App with Router\nfunction App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainApp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/share/:shareId\",element:/*#__PURE__*/_jsx(SharedResults,{})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","useParams","SearchForm","ResultsDisplay","searchProviders","jsx","_jsx","jsxs","_jsxs","SharedResults","shareId","results","setResults","loading","setLoading","savedResults","localStorage","getItem","concat","JSON","parse","error","console","className","children","href","handleShare","newShareId","shareUrl","window","location","origin","navigator","clipboard","writeText","alert","query","street","houseNumber","city","postalCode","onShare","MainApp","isLoading","setIsLoading","setError","handleSearch","result","err","onSearch","App","path","element"],"sources":["C:/Users/sahoo/OneDrive/Desktop/internet-provider-comparison/backend/Check24-Gendev-Challenge-2025/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, useParams, useLocation } from 'react-router-dom';\r\nimport { SearchForm } from './components/SearchForm/SearchForm';\r\nimport { ResultsDisplay } from './components/ResultsDisplay/ResultsDisplay';\r\nimport { searchProviders, ComparisonResult } from './services/api';\r\n\r\n// Component for shared results\r\nconst SharedResults: React.FC = () => {\r\n  const { shareId } = useParams<{ shareId: string }>();\r\n  const [results, setResults] = useState<ComparisonResult | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (shareId) {\r\n      const savedResults = localStorage.getItem(`search_${shareId}`);\r\n      if (savedResults) {\r\n        try {\r\n          setResults(JSON.parse(savedResults));\r\n        } catch (error) {\r\n          console.error('Error parsing shared results:', error);\r\n        }\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }, [shareId]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 py-8\">\r\n        <div className=\"container mx-auto px-4 text-center\">\r\n          <h1 className=\"text-2xl font-bold\">Loading shared results...</h1>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!results) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 py-8\">\r\n        <div className=\"container mx-auto px-4 text-center\">\r\n          <h1 className=\"text-2xl font-bold text-red-600 mb-4\">Shared results not found</h1>\r\n          <p className=\"text-gray-600 mb-6\">This shared link may have expired or is invalid.</p>\r\n          <a \r\n            href=\"/\" \r\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Start New Search\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleShare = (newShareId: string) => {\r\n    const shareUrl = `${window.location.origin}/share/${newShareId}`;\r\n    navigator.clipboard.writeText(shareUrl);\r\n    alert(`New share link copied: ${shareUrl}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"mb-6 text-center\">\r\n          <h1 className=\"text-3xl font-bold text-blue-600 mb-2\">Shared Search Results</h1>\r\n          <p className=\"text-gray-600 mb-4\">\r\n            Search: {results.query.street} {results.query.houseNumber}, {results.query.city} {results.query.postalCode}\r\n          </p>\r\n          <a href=\"/\" className=\"text-blue-600 hover:underline\">‚Üê Start New Search</a>\r\n        </div>\r\n        <ResultsDisplay results={results} onShare={handleShare} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main search component\r\nconst MainApp: React.FC = () => {\r\n  const [results, setResults] = useState<ComparisonResult | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleSearch = async (query: any) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const result = await searchProviders(query);\r\n      setResults(result);\r\n    } catch (err: any) {\r\n      setError('Unable to search providers at the moment. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleShare = (shareId: string) => {\r\n    const shareUrl = `${window.location.origin}/share/${shareId}`;\r\n    navigator.clipboard.writeText(shareUrl);\r\n    alert(`Share link copied to clipboard!\\n\\n${shareUrl}\\n\\nSend this link to others to share your search results.`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <SearchForm onSearch={handleSearch} isLoading={isLoading} />\r\n        \r\n        {error && (\r\n          <div className=\"mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        {results && (\r\n          <ResultsDisplay results={results} onShare={handleShare} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// App with Router\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<MainApp />} />\r\n        <Route path=\"/share/:shareId\" element={<SharedResults />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}