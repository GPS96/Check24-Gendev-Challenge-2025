{"ast":null,"code":"import _objectSpread from\"C:/Users/sahoo/OneDrive/Desktop/internet-provider-comparison/backend/Check24-Gendev-Challenge-2025/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{searchPostalCodes,getCityByPostalCode,getPostalCodeByCity}from'../../services/addressService';import{saveLastSearch,getLastSearch,getSearchHistory}from'../../services/sessionService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const SearchForm=_ref=>{let{onSearch,isLoading}=_ref;const[formData,setFormData]=useState({street:'',houseNumber:'',city:'',postalCode:''});const[validationErrors,setValidationErrors]=useState({});const[showValidation,setShowValidation]=useState(false);// Address autocompletion states\nconst[postalSuggestions,setPostalSuggestions]=useState([]);const[citySuggestions,setCitySuggestions]=useState([]);const[showPostalSuggestions,setShowPostalSuggestions]=useState(false);const[showCitySuggestions,setShowCitySuggestions]=useState(false);// Session state\nconst[searchHistory,setSearchHistory]=useState([]);const[showHistory,setShowHistory]=useState(false);// Loading progress state\nconst[searchProgress,setSearchProgress]=useState(0);// ✨ NEW: Dark mode state\nconst[darkMode,setDarkMode]=useState(false);const postalInputRef=useRef(null);const cityInputRef=useRef(null);// Load last search and history on component mount\nuseEffect(()=>{const lastSearch=getLastSearch();if(lastSearch){setFormData(lastSearch);}setSearchHistory(getSearchHistory());},[]);// ✨ NEW: Load saved dark mode preference\nuseEffect(()=>{const savedTheme=localStorage.getItem('darkMode');if(savedTheme){setDarkMode(JSON.parse(savedTheme));}},[]);// ✨ NEW: Apply dark mode to document\nuseEffect(()=>{localStorage.setItem('darkMode',JSON.stringify(darkMode));if(darkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},[darkMode]);// ✨ NEW: Keyboard shortcuts\nuseEffect(()=>{const handleKeyPress=e=>{// Ctrl/Cmd + Enter to search\nif((e.ctrlKey||e.metaKey)&&e.key==='Enter'){e.preventDefault();if(!isLoading){const form=document.querySelector('form');if(form){const submitEvent=new Event('submit',{bubbles:true,cancelable:true});form.dispatchEvent(submitEvent);}}}// Escape to clear form\nif(e.key==='Escape'){setFormData({street:'',houseNumber:'',city:'',postalCode:''});setValidationErrors({});setShowValidation(false);}};document.addEventListener('keydown',handleKeyPress);return()=>document.removeEventListener('keydown',handleKeyPress);},[isLoading]);// Progress animation when searching\nuseEffect(()=>{if(isLoading){setSearchProgress(0);const interval=setInterval(()=>{setSearchProgress(prev=>{if(prev>=90)return prev;return prev+Math.random()*15;});},200);return()=>clearInterval(interval);}else{setSearchProgress(100);setTimeout(()=>setSearchProgress(0),1000);}},[isLoading]);const validateField=(name,value)=>{switch(name){case'street':if(value&&/^\\d{5}$/.test(value)){return'This looks like a postal code. Street names should contain letters.';}if(value&&/^[0-9]+$/.test(value)){return'Street names should contain letters, not just numbers.';}break;case'houseNumber':if(value&&/^[xX]+$/.test(value)){return'Please enter a valid house number (e.g., 123, 45A).';}if(value&&value.length>0&&!/^[0-9]+[a-zA-Z]?$/.test(value)){return'House number should be numeric (e.g., 123, 45A).';}break;case'city':if(value&&/^\\d{5}$/.test(value)){return'This looks like a postal code. Did you mean to enter a city name?';}if(value&&/^[0-9]+$/.test(value)){return'City names should contain letters, not just numbers.';}if(value&&value.length>0&&!/^[a-zA-ZäöüÄÖÜß\\s-]+$/.test(value)){return'City names should only contain letters and spaces.';}break;case'postalCode':if(value&&value.length>0&&!/^\\d{5}$/.test(value)){return'German postal codes should be exactly 5 digits (e.g., 80331).';}if(value&&/^[a-zA-Z]+$/.test(value)){return'This looks like a city name. Postal codes should be 5 digits.';}break;}return undefined;};const handleSubmit=e=>{e.preventDefault();setShowValidation(true);const errors={};Object.keys(formData).forEach(key=>{const error=validateField(key,formData[key]);if(error){errors[key]=error;}});setValidationErrors(errors);if(Object.keys(errors).length===0){saveLastSearch(formData);setSearchHistory(getSearchHistory());onSearch(formData);}};const handleChange=async e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));// Address autocompletion with proper async/await\nif(name==='postalCode'&&value.length>=2){try{const suggestions=await searchPostalCodes(value);setPostalSuggestions(suggestions);setShowPostalSuggestions(suggestions.length>0);}catch(error){console.error('Error fetching postal suggestions:',error);setShowPostalSuggestions(false);}}else if(name==='postalCode'){setShowPostalSuggestions(false);}if(name==='city'&&value.length>=2){try{const suggestions=await searchPostalCodes(value);setCitySuggestions(suggestions);setShowCitySuggestions(suggestions.length>0);}catch(error){console.error('Error fetching city suggestions:',error);setShowCitySuggestions(false);}}else if(name==='city'){setShowCitySuggestions(false);}// Real-time validation\nif(showValidation){const error=validateField(name,value);setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:error}));}};const handlePostalCodeSelect=suggestion=>{setFormData(_objectSpread(_objectSpread({},formData),{},{postalCode:suggestion.postalCode,city:suggestion.city}));setShowPostalSuggestions(false);};const handleCitySelect=suggestion=>{setFormData(_objectSpread(_objectSpread({},formData),{},{city:suggestion.city,postalCode:suggestion.postalCode}));setShowCitySuggestions(false);};const handleHistorySelect=historyItem=>{setFormData(historyItem.query);setShowHistory(false);};const handleBlur=async e=>{const{name,value}=e.target;// Auto-fill city/postal code with proper async/await\nif(name==='postalCode'&&value.length===5){try{const city=await getCityByPostalCode(value);if(city&&!formData.city){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{city}));}}catch(error){console.error('Error auto-filling city:',error);}}if(name==='city'&&value&&!formData.postalCode){try{const postalCode=await getPostalCodeByCity(value);if(postalCode){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{postalCode}));}}catch(error){console.error('Error auto-filling postal code:',error);}}// Validation\nconst error=validateField(name,value);setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:error}));// Hide suggestions after a delay to allow clicks\nsetTimeout(()=>{setShowPostalSuggestions(false);setShowCitySuggestions(false);setPostalSuggestions([]);setCitySuggestions([]);},200);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-4xl mx-auto p-8 rounded-xl shadow-xl border transition-all duration-300 \".concat(darkMode?'bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700':'bg-gradient-to-br from-blue-50 to-white border-blue-100'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setDarkMode(!darkMode),className:\"p-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg \".concat(darkMode?'bg-gray-700 text-yellow-400 hover:bg-gray-600':'bg-white text-gray-700 hover:bg-gray-50'),title:darkMode?'Switch to Light Mode':'Switch to Dark Mode',children:darkMode?'☀️':'🌙'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-3 \".concat(darkMode?'text-transparent bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text':'text-transparent bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text'),children:\"\\uD83C\\uDF10 Internet Provider Comparison\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium \".concat(darkMode?'text-gray-300':'text-gray-600'),children:\"Find the best internet deals in your area\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex justify-center items-center space-x-4 text-sm \".concat(darkMode?'text-gray-400':'text-gray-500'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center\",children:\"\\u2728 16,000+ German cities\"}),/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center\",children:\"\\uD83D\\uDE80 Real-time comparison\"}),/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center\",children:\"\\uD83D\\uDD12 Secure & private\"})]})]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 border rounded-lg p-4 \".concat(darkMode?'bg-gradient-to-r from-gray-700 to-gray-800 border-gray-600':'bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 mr-3 \".concat(darkMode?'border-blue-400':'border-blue-600')}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(darkMode?'text-blue-300':'text-blue-800'),children:\"Comparing 5 providers...\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold \".concat(darkMode?'text-blue-400':'text-blue-600'),children:[Math.round(searchProgress),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full rounded-full h-2 \".concat(darkMode?'bg-gray-600':'bg-blue-200'),children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 ease-out \".concat(darkMode?'bg-gradient-to-r from-blue-400 to-purple-400':'bg-gradient-to-r from-blue-500 to-blue-600'),style:{width:\"\".concat(searchProgress,\"%\")}})})]}),searchHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowHistory(!showHistory),className:\"inline-flex items-center text-sm font-medium hover:underline transition-colors \".concat(darkMode?'text-blue-400 hover:text-blue-300':'text-blue-600 hover:text-blue-800'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:\"\\uD83D\\uDCDD\"}),showHistory?'Hide':'Show',\" recent searches (\",searchHistory.length,\")\"]}),showHistory&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 rounded-lg p-4 border \".concat(darkMode?'bg-gradient-to-r from-gray-700 to-gray-800 border-gray-600':'bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200'),children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:searchHistory.map((item,index)=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleHistorySelect(item),className:\"block w-full text-left text-sm p-3 rounded-lg border transition-all duration-200 hover:shadow-md \".concat(darkMode?'hover:bg-gray-600 border-gray-600 text-gray-300 hover:text-blue-400 hover:border-blue-500':'hover:bg-white border-gray-200 text-gray-700 hover:text-blue-600 hover:border-blue-300'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[item.query.street,\" \",item.query.houseNumber,\", \",item.query.city,\" \",item.query.postalCode]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mt-1 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:[\"\\uD83D\\uDD52 \",new Date(item.timestamp).toLocaleDateString('de-DE')]})]},index))})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street\",className:\"block text-sm font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"\\uD83C\\uDFE0 Street\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"street\",name:\"street\",value:formData.street,onChange:handleChange,onBlur:handleBlur,required:true,className:\"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 \".concat(validationErrors.street?'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500':darkMode?'border-gray-600 bg-gray-700 text-white hover:border-blue-400':'border-gray-300 hover:border-blue-400'),placeholder:\"Hauptstra\\xDFe\"}),validationErrors.street&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500 text-sm mt-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:\"\\u26A0\\uFE0F\"}),validationErrors.street]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"houseNumber\",className:\"block text-sm font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"\\uD83D\\uDD22 House Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"houseNumber\",name:\"houseNumber\",value:formData.houseNumber,onChange:handleChange,onBlur:handleBlur,required:true,className:\"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 \".concat(validationErrors.houseNumber?'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500':darkMode?'border-gray-600 bg-gray-700 text-white hover:border-blue-400':'border-gray-300 hover:border-blue-400'),placeholder:\"123\"}),validationErrors.houseNumber&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500 text-sm mt-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:\"\\u26A0\\uFE0F\"}),validationErrors.houseNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",className:\"block text-sm font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"\\uD83C\\uDFD9\\uFE0F City\"}),/*#__PURE__*/_jsx(\"input\",{ref:cityInputRef,type:\"text\",id:\"city\",name:\"city\",value:formData.city,onChange:handleChange,onBlur:handleBlur,required:true,className:\"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 \".concat(validationErrors.city?'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500':darkMode?'border-gray-600 bg-gray-700 text-white hover:border-blue-400':'border-gray-300 hover:border-blue-400'),placeholder:\"M\\xFCnchen\"}),showCitySuggestions&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-20 w-full border-2 rounded-lg mt-1 max-h-48 overflow-y-auto shadow-xl \".concat(darkMode?'bg-gray-800 border-blue-500':'bg-white border-blue-300'),children:citySuggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleCitySelect(suggestion),className:\"w-full text-left px-4 py-3 text-sm border-b last:border-b-0 transition-colors \".concat(darkMode?'hover:bg-gray-700 focus:bg-gray-700 border-gray-600':'hover:bg-blue-50 focus:bg-blue-50 border-gray-100'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium \".concat(darkMode?'text-gray-200':'text-gray-800'),children:suggestion.city}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(darkMode?'text-gray-400':'text-gray-500'),children:[suggestion.postalCode,\" \\u2022 \",suggestion.state]})]},index))}),validationErrors.city&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500 text-sm mt-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:\"\\u26A0\\uFE0F\"}),validationErrors.city]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postalCode\",className:\"block text-sm font-semibold mb-2 \".concat(darkMode?'text-gray-200':'text-gray-700'),children:\"\\uD83D\\uDCEE Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{ref:postalInputRef,type:\"text\",id:\"postalCode\",name:\"postalCode\",value:formData.postalCode,onChange:handleChange,onBlur:handleBlur,required:true,className:\"w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 \".concat(validationErrors.postalCode?'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500':darkMode?'border-gray-600 bg-gray-700 text-white hover:border-blue-400':'border-gray-300 hover:border-blue-400'),placeholder:\"80331\"}),showPostalSuggestions&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-20 w-full border-2 rounded-lg mt-1 max-h-48 overflow-y-auto shadow-xl \".concat(darkMode?'bg-gray-800 border-blue-500':'bg-white border-blue-300'),children:postalSuggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handlePostalCodeSelect(suggestion),className:\"w-full text-left px-4 py-3 text-sm border-b last:border-b-0 transition-colors \".concat(darkMode?'hover:bg-gray-700 focus:bg-gray-700 border-gray-600':'hover:bg-blue-50 focus:bg-blue-50 border-gray-100'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium \".concat(darkMode?'text-gray-200':'text-gray-800'),children:[suggestion.postalCode,\" - \",suggestion.city]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs \".concat(darkMode?'text-gray-400':'text-gray-500'),children:suggestion.state})]},index))}),validationErrors.postalCode&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500 text-sm mt-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:\"\\u26A0\\uFE0F\"}),validationErrors.postalCode]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"w-full py-4 px-6 rounded-lg font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none \".concat(darkMode?'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700':'bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500',\" disabled:cursor-not-allowed\"),children:isLoading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"}),\"Searching Providers...\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center justify-center\",children:\"\\uD83D\\uDD0D Compare Internet Providers\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center text-sm \".concat(darkMode?'text-gray-400':'text-gray-500'),children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"kbd\",{className:\"px-2 py-1 ml-1 rounded text-xs \".concat(darkMode?'bg-gray-700 text-gray-300':'bg-gray-200 text-gray-700'),children:\"Ctrl+Enter\"}),\" to search\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"kbd\",{className:\"px-2 py-1 rounded text-xs \".concat(darkMode?'bg-gray-700 text-gray-300':'bg-gray-200 text-gray-700'),children:\"Esc\"}),\" to clear\"]})]})})]});};","map":{"version":3,"names":["React","useState","useEffect","useRef","searchPostalCodes","getCityByPostalCode","getPostalCodeByCity","saveLastSearch","getLastSearch","getSearchHistory","jsx","_jsx","jsxs","_jsxs","SearchForm","_ref","onSearch","isLoading","formData","setFormData","street","houseNumber","city","postalCode","validationErrors","setValidationErrors","showValidation","setShowValidation","postalSuggestions","setPostalSuggestions","citySuggestions","setCitySuggestions","showPostalSuggestions","setShowPostalSuggestions","showCitySuggestions","setShowCitySuggestions","searchHistory","setSearchHistory","showHistory","setShowHistory","searchProgress","setSearchProgress","darkMode","setDarkMode","postalInputRef","cityInputRef","lastSearch","savedTheme","localStorage","getItem","JSON","parse","setItem","stringify","document","documentElement","classList","add","remove","handleKeyPress","e","ctrlKey","metaKey","key","preventDefault","form","querySelector","submitEvent","Event","bubbles","cancelable","dispatchEvent","addEventListener","removeEventListener","interval","setInterval","prev","Math","random","clearInterval","setTimeout","validateField","name","value","test","length","undefined","handleSubmit","errors","Object","keys","forEach","error","handleChange","target","_objectSpread","suggestions","console","handlePostalCodeSelect","suggestion","handleCitySelect","handleHistorySelect","historyItem","query","handleBlur","className","concat","children","type","onClick","title","round","style","width","map","item","index","Date","timestamp","toLocaleDateString","onSubmit","htmlFor","id","onChange","onBlur","required","placeholder","ref","state","disabled"],"sources":["C:/Users/sahoo/OneDrive/Desktop/internet-provider-comparison/backend/Check24-Gendev-Challenge-2025/frontend/src/components/SearchForm/SearchForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { SearchQuery } from '../../services/api';\r\nimport { searchPostalCodes, getCityByPostalCode, getPostalCodeByCity, AddressSuggestion } from '../../services/addressService';\r\nimport { saveLastSearch, getLastSearch, getSearchHistory, SearchHistory } from '../../services/sessionService';\r\n\r\ninterface SearchFormProps {\r\n  onSearch: (query: SearchQuery) => void;\r\n  isLoading: boolean;\r\n}\r\n\r\ninterface ValidationErrors {\r\n  street?: string;\r\n  houseNumber?: string;\r\n  city?: string;\r\n  postalCode?: string;\r\n}\r\n\r\nexport const SearchForm: React.FC<SearchFormProps> = ({ onSearch, isLoading }) => {\r\n  const [formData, setFormData] = useState<SearchQuery>({\r\n    street: '',\r\n    houseNumber: '',\r\n    city: '',\r\n    postalCode: ''\r\n  });\r\n\r\n  const [validationErrors, setValidationErrors] = useState<ValidationErrors>({});\r\n  const [showValidation, setShowValidation] = useState(false);\r\n  \r\n  // Address autocompletion states\r\n  const [postalSuggestions, setPostalSuggestions] = useState<AddressSuggestion[]>([]);\r\n  const [citySuggestions, setCitySuggestions] = useState<AddressSuggestion[]>([]);\r\n  const [showPostalSuggestions, setShowPostalSuggestions] = useState(false);\r\n  const [showCitySuggestions, setShowCitySuggestions] = useState(false);\r\n  \r\n  // Session state\r\n  const [searchHistory, setSearchHistory] = useState<SearchHistory[]>([]);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n  \r\n  // Loading progress state\r\n  const [searchProgress, setSearchProgress] = useState(0);\r\n  \r\n  // ✨ NEW: Dark mode state\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  \r\n  const postalInputRef = useRef<HTMLInputElement>(null);\r\n  const cityInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Load last search and history on component mount\r\n  useEffect(() => {\r\n    const lastSearch = getLastSearch();\r\n    if (lastSearch) {\r\n      setFormData(lastSearch);\r\n    }\r\n    setSearchHistory(getSearchHistory());\r\n  }, []);\r\n\r\n  // ✨ NEW: Load saved dark mode preference\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('darkMode');\r\n    if (savedTheme) {\r\n      setDarkMode(JSON.parse(savedTheme));\r\n    }\r\n  }, []);\r\n\r\n  // ✨ NEW: Apply dark mode to document\r\n  useEffect(() => {\r\n    localStorage.setItem('darkMode', JSON.stringify(darkMode));\r\n    if (darkMode) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, [darkMode]);\r\n\r\n  // ✨ NEW: Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      // Ctrl/Cmd + Enter to search\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\r\n        e.preventDefault();\r\n        if (!isLoading) {\r\n          const form = document.querySelector('form');\r\n          if (form) {\r\n            const submitEvent = new Event('submit', { bubbles: true, cancelable: true });\r\n            form.dispatchEvent(submitEvent);\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Escape to clear form\r\n      if (e.key === 'Escape') {\r\n        setFormData({ street: '', houseNumber: '', city: '', postalCode: '' });\r\n        setValidationErrors({});\r\n        setShowValidation(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyPress);\r\n    return () => document.removeEventListener('keydown', handleKeyPress);\r\n  }, [isLoading]);\r\n\r\n  // Progress animation when searching\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      setSearchProgress(0);\r\n      const interval = setInterval(() => {\r\n        setSearchProgress(prev => {\r\n          if (prev >= 90) return prev;\r\n          return prev + Math.random() * 15;\r\n        });\r\n      }, 200);\r\n      \r\n      return () => clearInterval(interval);\r\n    } else {\r\n      setSearchProgress(100);\r\n      setTimeout(() => setSearchProgress(0), 1000);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const validateField = (name: string, value: string): string | undefined => {\r\n    switch (name) {\r\n      case 'street':\r\n        if (value && /^\\d{5}$/.test(value)) {\r\n          return 'This looks like a postal code. Street names should contain letters.';\r\n        }\r\n        if (value && /^[0-9]+$/.test(value)) {\r\n          return 'Street names should contain letters, not just numbers.';\r\n        }\r\n        break;\r\n\r\n      case 'houseNumber':\r\n        if (value && /^[xX]+$/.test(value)) {\r\n          return 'Please enter a valid house number (e.g., 123, 45A).';\r\n        }\r\n        if (value && value.length > 0 && !/^[0-9]+[a-zA-Z]?$/.test(value)) {\r\n          return 'House number should be numeric (e.g., 123, 45A).';\r\n        }\r\n        break;\r\n\r\n      case 'city':\r\n        if (value && /^\\d{5}$/.test(value)) {\r\n          return 'This looks like a postal code. Did you mean to enter a city name?';\r\n        }\r\n        if (value && /^[0-9]+$/.test(value)) {\r\n          return 'City names should contain letters, not just numbers.';\r\n        }\r\n        if (value && value.length > 0 && !/^[a-zA-ZäöüÄÖÜß\\s-]+$/.test(value)) {\r\n          return 'City names should only contain letters and spaces.';\r\n        }\r\n        break;\r\n\r\n      case 'postalCode':\r\n        if (value && value.length > 0 && !/^\\d{5}$/.test(value)) {\r\n          return 'German postal codes should be exactly 5 digits (e.g., 80331).';\r\n        }\r\n        if (value && /^[a-zA-Z]+$/.test(value)) {\r\n          return 'This looks like a city name. Postal codes should be 5 digits.';\r\n        }\r\n        break;\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setShowValidation(true);\r\n\r\n    const errors: ValidationErrors = {};\r\n    Object.keys(formData).forEach(key => {\r\n      const error = validateField(key, formData[key as keyof SearchQuery]);\r\n      if (error) {\r\n        errors[key as keyof ValidationErrors] = error;\r\n      }\r\n    });\r\n\r\n    setValidationErrors(errors);\r\n\r\n    if (Object.keys(errors).length === 0) {\r\n      saveLastSearch(formData);\r\n      setSearchHistory(getSearchHistory());\r\n      onSearch(formData);\r\n    }\r\n  };\r\n\r\n  const handleChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n\r\n    // Address autocompletion with proper async/await\r\n    if (name === 'postalCode' && value.length >= 2) {\r\n      try {\r\n        const suggestions = await searchPostalCodes(value);\r\n        setPostalSuggestions(suggestions);\r\n        setShowPostalSuggestions(suggestions.length > 0);\r\n      } catch (error) {\r\n        console.error('Error fetching postal suggestions:', error);\r\n        setShowPostalSuggestions(false);\r\n      }\r\n    } else if (name === 'postalCode') {\r\n      setShowPostalSuggestions(false);\r\n    }\r\n\r\n    if (name === 'city' && value.length >= 2) {\r\n      try {\r\n        const suggestions = await searchPostalCodes(value);\r\n        setCitySuggestions(suggestions);\r\n        setShowCitySuggestions(suggestions.length > 0);\r\n      } catch (error) {\r\n        console.error('Error fetching city suggestions:', error);\r\n        setShowCitySuggestions(false);\r\n      }\r\n    } else if (name === 'city') {\r\n      setShowCitySuggestions(false);\r\n    }\r\n\r\n    // Real-time validation\r\n    if (showValidation) {\r\n      const error = validateField(name, value);\r\n      setValidationErrors(prev => ({\r\n        ...prev,\r\n        [name]: error\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handlePostalCodeSelect = (suggestion: AddressSuggestion) => {\r\n    setFormData({\r\n      ...formData,\r\n      postalCode: suggestion.postalCode,\r\n      city: suggestion.city\r\n    });\r\n    setShowPostalSuggestions(false);\r\n  };\r\n\r\n  const handleCitySelect = (suggestion: AddressSuggestion) => {\r\n    setFormData({\r\n      ...formData,\r\n      city: suggestion.city,\r\n      postalCode: suggestion.postalCode\r\n    });\r\n    setShowCitySuggestions(false);\r\n  };\r\n\r\n  const handleHistorySelect = (historyItem: SearchHistory) => {\r\n    setFormData(historyItem.query);\r\n    setShowHistory(false);\r\n  };\r\n\r\n  const handleBlur = async (e: React.FocusEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Auto-fill city/postal code with proper async/await\r\n    if (name === 'postalCode' && value.length === 5) {\r\n      try {\r\n        const city = await getCityByPostalCode(value);\r\n        if (city && !formData.city) {\r\n          setFormData(prev => ({ ...prev, city }));\r\n        }\r\n      } catch (error) {\r\n        console.error('Error auto-filling city:', error);\r\n      }\r\n    }\r\n    \r\n    if (name === 'city' && value && !formData.postalCode) {\r\n      try {\r\n        const postalCode = await getPostalCodeByCity(value);\r\n        if (postalCode) {\r\n          setFormData(prev => ({ ...prev, postalCode }));\r\n        }\r\n      } catch (error) {\r\n        console.error('Error auto-filling postal code:', error);\r\n      }\r\n    }\r\n\r\n    // Validation\r\n    const error = validateField(name, value);\r\n    setValidationErrors(prev => ({\r\n      ...prev,\r\n      [name]: error\r\n    }));\r\n\r\n    // Hide suggestions after a delay to allow clicks\r\n    setTimeout(() => {\r\n      setShowPostalSuggestions(false);\r\n      setShowCitySuggestions(false);\r\n      setPostalSuggestions([]);\r\n      setCitySuggestions([]);\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div className={`relative max-w-4xl mx-auto p-8 rounded-xl shadow-xl border transition-all duration-300 ${\r\n      darkMode \r\n        ? 'bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700' \r\n        : 'bg-gradient-to-br from-blue-50 to-white border-blue-100'\r\n    }`}>\r\n      \r\n      {/* ✨ NEW: Dark Mode Toggle */}\r\n      <div className=\"absolute top-4 right-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setDarkMode(!darkMode)}\r\n          className={`p-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg ${\r\n            darkMode \r\n              ? 'bg-gray-700 text-yellow-400 hover:bg-gray-600' \r\n              : 'bg-white text-gray-700 hover:bg-gray-50'\r\n          }`}\r\n          title={darkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\r\n        >\r\n          {darkMode ? '☀️' : '🌙'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* CHECK24-inspired header */}\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className={`text-4xl font-bold mb-3 ${\r\n          darkMode \r\n            ? 'text-transparent bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text' \r\n            : 'text-transparent bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text'\r\n        }`}>\r\n          🌐 Internet Provider Comparison\r\n        </h1>\r\n        <p className={`text-lg font-medium ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n          Find the best internet deals in your area\r\n        </p>\r\n        <div className={`mt-2 flex justify-center items-center space-x-4 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n          <span className=\"flex items-center\">✨ 16,000+ German cities</span>\r\n          <span className=\"flex items-center\">🚀 Real-time comparison</span>\r\n          <span className=\"flex items-center\">🔒 Secure & private</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress indicator during search */}\r\n      {isLoading && (\r\n        <div className={`mb-6 border rounded-lg p-4 ${\r\n          darkMode \r\n            ? 'bg-gradient-to-r from-gray-700 to-gray-800 border-gray-600' \r\n            : 'bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200'\r\n        }`}>\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center\">\r\n              <div className={`animate-spin rounded-full h-5 w-5 border-b-2 mr-3 ${\r\n                darkMode ? 'border-blue-400' : 'border-blue-600'\r\n              }`}></div>\r\n              <span className={`font-medium ${darkMode ? 'text-blue-300' : 'text-blue-800'}`}>\r\n                Comparing 5 providers...\r\n              </span>\r\n            </div>\r\n            <span className={`font-semibold ${darkMode ? 'text-blue-400' : 'text-blue-600'}`}>\r\n              {Math.round(searchProgress)}%\r\n            </span>\r\n          </div>\r\n          <div className={`w-full rounded-full h-2 ${darkMode ? 'bg-gray-600' : 'bg-blue-200'}`}>\r\n            <div \r\n              className={`h-2 rounded-full transition-all duration-300 ease-out ${\r\n                darkMode \r\n                  ? 'bg-gradient-to-r from-blue-400 to-purple-400' \r\n                  : 'bg-gradient-to-r from-blue-500 to-blue-600'\r\n              }`}\r\n              style={{ width: `${searchProgress}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Search History with improved styling */}\r\n      {searchHistory.length > 0 && (\r\n        <div className=\"mb-6\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowHistory(!showHistory)}\r\n            className={`inline-flex items-center text-sm font-medium hover:underline transition-colors ${\r\n              darkMode ? 'text-blue-400 hover:text-blue-300' : 'text-blue-600 hover:text-blue-800'\r\n            }`}\r\n          >\r\n            <span className=\"mr-1\">📝</span>\r\n            {showHistory ? 'Hide' : 'Show'} recent searches ({searchHistory.length})\r\n          </button>\r\n          \r\n          {showHistory && (\r\n            <div className={`mt-3 rounded-lg p-4 border ${\r\n              darkMode \r\n                ? 'bg-gradient-to-r from-gray-700 to-gray-800 border-gray-600' \r\n                : 'bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200'\r\n            }`}>\r\n              <div className=\"space-y-2\">\r\n                {searchHistory.map((item, index) => (\r\n                  <button\r\n                    key={index}\r\n                    type=\"button\"\r\n                    onClick={() => handleHistorySelect(item)}\r\n                    className={`block w-full text-left text-sm p-3 rounded-lg border transition-all duration-200 hover:shadow-md ${\r\n                      darkMode \r\n                        ? 'hover:bg-gray-600 border-gray-600 text-gray-300 hover:text-blue-400 hover:border-blue-500' \r\n                        : 'hover:bg-white border-gray-200 text-gray-700 hover:text-blue-600 hover:border-blue-300'\r\n                    }`}\r\n                  >\r\n                    <div className=\"font-medium\">\r\n                      {item.query.street} {item.query.houseNumber}, {item.query.city} {item.query.postalCode}\r\n                    </div>\r\n                    <div className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                      🕒 {new Date(item.timestamp).toLocaleDateString('de-DE')}\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label htmlFor=\"street\" className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n              🏠 Street\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"street\"\r\n              name=\"street\"\r\n              value={formData.street}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              required\r\n              className={`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${\r\n                validationErrors.street \r\n                  ? 'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500' \r\n                  : darkMode \r\n                    ? 'border-gray-600 bg-gray-700 text-white hover:border-blue-400' \r\n                    : 'border-gray-300 hover:border-blue-400'\r\n              }`}\r\n              placeholder=\"Hauptstraße\"\r\n            />\r\n            {validationErrors.street && (\r\n              <p className=\"text-red-500 text-sm mt-2 flex items-center\">\r\n                <span className=\"mr-1\">⚠️</span>\r\n                {validationErrors.street}\r\n              </p>\r\n            )}\r\n          </div>\r\n          \r\n          <div>\r\n            <label htmlFor=\"houseNumber\" className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n              🔢 House Number\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"houseNumber\"\r\n              name=\"houseNumber\"\r\n              value={formData.houseNumber}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              required\r\n              className={`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${\r\n                validationErrors.houseNumber \r\n                  ? 'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500' \r\n                  : darkMode \r\n                    ? 'border-gray-600 bg-gray-700 text-white hover:border-blue-400' \r\n                    : 'border-gray-300 hover:border-blue-400'\r\n              }`}\r\n              placeholder=\"123\"\r\n            />\r\n            {validationErrors.houseNumber && (\r\n              <p className=\"text-red-500 text-sm mt-2 flex items-center\">\r\n                <span className=\"mr-1\">⚠️</span>\r\n                {validationErrors.houseNumber}\r\n              </p>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"relative\">\r\n            <label htmlFor=\"city\" className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n              🏙️ City\r\n            </label>\r\n            <input\r\n              ref={cityInputRef}\r\n              type=\"text\"\r\n              id=\"city\"\r\n              name=\"city\"\r\n              value={formData.city}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              required\r\n              className={`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${\r\n                validationErrors.city \r\n                  ? 'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500' \r\n                  : darkMode \r\n                    ? 'border-gray-600 bg-gray-700 text-white hover:border-blue-400' \r\n                    : 'border-gray-300 hover:border-blue-400'\r\n              }`}\r\n              placeholder=\"München\"\r\n            />\r\n            \r\n            {/* Enhanced City Suggestions */}\r\n            {showCitySuggestions && (\r\n              <div className={`absolute z-20 w-full border-2 rounded-lg mt-1 max-h-48 overflow-y-auto shadow-xl ${\r\n                darkMode \r\n                  ? 'bg-gray-800 border-blue-500' \r\n                  : 'bg-white border-blue-300'\r\n              }`}>\r\n                {citySuggestions.map((suggestion, index) => (\r\n                  <button\r\n                    key={index}\r\n                    type=\"button\"\r\n                    onClick={() => handleCitySelect(suggestion)}\r\n                    className={`w-full text-left px-4 py-3 text-sm border-b last:border-b-0 transition-colors ${\r\n                      darkMode \r\n                        ? 'hover:bg-gray-700 focus:bg-gray-700 border-gray-600' \r\n                        : 'hover:bg-blue-50 focus:bg-blue-50 border-gray-100'\r\n                    }`}\r\n                  >\r\n                    <div className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                      {suggestion.city}\r\n                    </div>\r\n                    <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                      {suggestion.postalCode} • {suggestion.state}\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            {validationErrors.city && (\r\n              <p className=\"text-red-500 text-sm mt-2 flex items-center\">\r\n                <span className=\"mr-1\">⚠️</span>\r\n                {validationErrors.city}\r\n              </p>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"relative\">\r\n            <label htmlFor=\"postalCode\" className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>\r\n              📮 Postal Code\r\n            </label>\r\n            <input\r\n              ref={postalInputRef}\r\n              type=\"text\"\r\n              id=\"postalCode\"\r\n              name=\"postalCode\"\r\n              value={formData.postalCode}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              required\r\n              className={`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${\r\n                validationErrors.postalCode \r\n                  ? 'border-red-400 bg-red-50 dark:bg-red-900 dark:border-red-500' \r\n                  : darkMode \r\n                    ? 'border-gray-600 bg-gray-700 text-white hover:border-blue-400' \r\n                    : 'border-gray-300 hover:border-blue-400'\r\n              }`}\r\n              placeholder=\"80331\"\r\n            />\r\n            \r\n            {/* Enhanced Postal Code Suggestions */}\r\n            {showPostalSuggestions && (\r\n              <div className={`absolute z-20 w-full border-2 rounded-lg mt-1 max-h-48 overflow-y-auto shadow-xl ${\r\n                darkMode \r\n                  ? 'bg-gray-800 border-blue-500' \r\n                  : 'bg-white border-blue-300'\r\n              }`}>\r\n                {postalSuggestions.map((suggestion, index) => (\r\n                  <button\r\n                    key={index}\r\n                    type=\"button\"\r\n                    onClick={() => handlePostalCodeSelect(suggestion)}\r\n                    className={`w-full text-left px-4 py-3 text-sm border-b last:border-b-0 transition-colors ${\r\n                      darkMode \r\n                        ? 'hover:bg-gray-700 focus:bg-gray-700 border-gray-600' \r\n                        : 'hover:bg-blue-50 focus:bg-blue-50 border-gray-100'\r\n                    }`}\r\n                  >\r\n                    <div className={`font-medium ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>\r\n                      {suggestion.postalCode} - {suggestion.city}\r\n                    </div>\r\n                    <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                      {suggestion.state}\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n            \r\n            {validationErrors.postalCode && (\r\n              <p className=\"text-red-500 text-sm mt-2 flex items-center\">\r\n                <span className=\"mr-1\">⚠️</span>\r\n                {validationErrors.postalCode}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className={`w-full py-4 px-6 rounded-lg font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02] disabled:transform-none ${\r\n            darkMode \r\n              ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700' \r\n              : 'bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500'\r\n          } disabled:cursor-not-allowed`}\r\n        >\r\n          {isLoading ? (\r\n            <span className=\"flex items-center justify-center\">\r\n              <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3\"></div>\r\n              Searching Providers...\r\n            </span>\r\n          ) : (\r\n            <span className=\"flex items-center justify-center\">\r\n              🔍 Compare Internet Providers\r\n            </span>\r\n          )}\r\n        </button>\r\n      </form>\r\n\r\n      {/* ✨ NEW: Keyboard Shortcuts Info */}\r\n      <div className={`mt-6 text-center text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n        <span className=\"inline-flex items-center space-x-4\">\r\n          <span className=\"flex items-center\">\r\n            💡 <kbd className={`px-2 py-1 ml-1 rounded text-xs ${darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-200 text-gray-700'}`}>Ctrl+Enter</kbd> to search\r\n          </span>\r\n          <span className=\"flex items-center\">\r\n            <kbd className={`px-2 py-1 rounded text-xs ${darkMode ? 'bg-gray-700 text-gray-300' : 'bg-gray-200 text-gray-700'}`}>Esc</kbd> to clear\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}